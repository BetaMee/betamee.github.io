{"componentChunkName":"component---src-templates-blog-template-tsx","path":"/content/webfrontend-6563f9a389ca5c81b8c8baa2cc58680d","result":{"data":{"site":{"siteMetadata":{"author":"橡树上","title":"十二棵橡树"}},"markdownRemark":{"id":"8c6eb6bf-f21c-53af-88c5-827186f5d0eb","html":"<h2 id=\"目录\" style=\"position:relative;\"><a href=\"#%E7%9B%AE%E5%BD%95\" aria-label=\"目录 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目录</h2>\n<!-- toc -->\n<ul>\n<li><a href=\"#1-%E5%BC%95%E8%A8%80\">1. 引言</a></li>\n<li><a href=\"#2-%E7%89%88%E6%9C%AC%E7%9A%84%E5%88%92%E5%88%86\">2. 版本的划分</a></li>\n<li><a href=\"#3-%E5%85%88%E8%A1%8C%E7%89%88%E6%9C%AC\">3. 先行版本</a></li>\n<li><a href=\"#4-%E7%89%88%E6%9C%AC%E5%8F%91%E5%B8%83%E5%87%86%E5%88%99\">4. 版本发布准则</a></li>\n<li><a href=\"#5-%E7%89%88%E6%9C%AC%E5%89%8D%E7%BC%80\">5. 版本前缀</a></li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n<!-- tocstop -->\n<h2 id=\"1-引言\" style=\"position:relative;\"><a href=\"#1-%E5%BC%95%E8%A8%80\" aria-label=\"1 引言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 引言</h2>\n<p>软件开发中，为了合理地管理软件版本，我们需要一定的约束，以避免软件版本的“依赖地狱”问题。为此 Github 起草了一个具有指导意义的，统一的版本号表示规则，称为 Semantic Versioning(语义化版本表示)。该规则规定了版本号如何表示，如何增加，如何进行比较，不同的版本号意味着什么。</p>\n<h2 id=\"2-版本的划分\" style=\"position:relative;\"><a href=\"#2-%E7%89%88%E6%9C%AC%E7%9A%84%E5%88%92%E5%88%86\" aria-label=\"2 版本的划分 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 版本的划分</h2>\n<p>该规则指定了一个软件版本的基本格式：<code>major.minor.patch</code>:</p>\n<ul>\n<li>主版本号(major)：当你做了不兼容的 API 修改</li>\n<li>次版本号(minor)：当你做了向下兼容的功能性新增，可以理解为Feature版本</li>\n<li>修订号(patch)：当你做了向下兼容的问题修正，可以理解为Bug fix版本</li>\n</ul>\n<p>先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。</p>\n<h2 id=\"3-先行版本\" style=\"position:relative;\"><a href=\"#3-%E5%85%88%E8%A1%8C%E7%89%88%E6%9C%AC\" aria-label=\"3 先行版本 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 先行版本</h2>\n<p>有些软件在正式发布前会有一些先行测试版，这个时候可以在版本后缀加上特定的修饰，主要有三种：<code>alpha</code>、<code>beta</code>、<code>rc</code>，完整格式：<code>major.minor.patch-alpha</code>。其具体的含义：</p>\n<ul>\n<li>alpha: 内部版本</li>\n<li>beta: 公测版本</li>\n<li>rc: 即Release candiate，正式版本的候选版本</li>\n</ul>\n<p>也可以在修饰版本后加上数字后缀，表示先行版的继续划分：<code>major.minor.patch-alpha.0</code>、<code>major.minor.patch-rc.1</code>。</p>\n<h2 id=\"4-版本发布准则\" style=\"position:relative;\"><a href=\"#4-%E7%89%88%E6%9C%AC%E5%8F%91%E5%B8%83%E5%87%86%E5%88%99\" aria-label=\"4 版本发布准则 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 版本发布准则</h2>\n<ul>\n<li>版本发布必须以<code>major.minor.patch</code>格式，并且每一位数字不能为负，也不能在数字前方补零，并且版本号也是递增的。</li>\n<li>某个软件版本发行后，任何修改都必须以新版本发行。</li>\n<li><code>1.0.0</code> 为界定的公共版本，之前的版本如 <code>0.x.x</code> 为开发版，升级到 <code>1.x.x</code> 及以上则表示软件版本正式推出可用，开发者需要对此负责。</li>\n<li>在比较不同的版本号时，必须把版本依序拆分为主版本号、次版本号、修订号及先行版本号后进行比较。</li>\n</ul>\n<h2 id=\"5-版本前缀\" style=\"position:relative;\"><a href=\"#5-%E7%89%88%E6%9C%AC%E5%89%8D%E7%BC%80\" aria-label=\"5 版本前缀 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 版本前缀</h2>\n<p>前面提到的是关于 Semantic Versioning 的规则知识，这里补充一个知识点，是关于版本前缀的。在使用 npm 的时候，我们经常能看到安装的包长这样：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"betamee.github.io\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"blog site repo\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"BetaMee &lt;gongxq95@gmail.com>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"husky\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"hooks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"commit-msg\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"commitlint -E HUSKY_GIT_PARAMS\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"gatsby\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~2.15.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"node-sass\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"~4.12.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.9.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.9.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ts-node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^8.3.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"typescript\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>这里的 <code>^</code>、<code>~</code>、<code>*</code> 的作用是指：</p>\n<ul>\n<li><code>~</code> 会匹配最新的小版本依赖包，比如 <code>~1.2.3</code> 会匹配所有 <code>1.2.x</code> 版本，但是不包括 <code>1.3.0</code></li>\n<li><code>^</code> 会匹配最新的大版本依赖包，比如 <code>^1.2.3</code> 会匹配所有 <code>1.x.x</code> 的包，包括 <code>1.3.0</code>，但是不包括 <code>2.0.0</code></li>\n<li><code>*</code> 会安装最新版本的依赖包</li>\n</ul>\n<p><code>^</code>、<code>*</code> 可能会引起版本不兼容，这里需要注意，建议使用<code>~</code>来标记版本号。</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://juejin.im/post/5ad413ba6fb9a028b5485866\">Semver(语义化版本号)扫盲 - 掘金</a></li>\n<li><a href=\"https://semver.org/lang/zh-CN/\">语义化版本 2.0.0 | Semantic Versioning</a></li>\n</ul>","frontmatter":{"title":"语义版本知识","category":"WebFrontEnd","tags":"Web_Deep 工程化 npm","date":"2019-09-24","uninqueid":"6563f9a389ca5c81b8c8baa2cc58680d"}}},"pageContext":{"uninqueid":"6563f9a389ca5c81b8c8baa2cc58680d"}},"staticQueryHashes":["3649515864"]}